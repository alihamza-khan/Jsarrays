<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Halal & Sweet Recipes</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
body { min-height:100vh; background:linear-gradient(135deg,#fdfbfb,#ebedee); display:flex; justify-content:center; align-items:flex-start; padding:30px; color:#333; }
.container { width:100%; max-width:1200px; }
header { text-align:center; margin-bottom:30px; }
header h1 { font-size:2.5rem; color:#ff6b6b; margin-bottom:10px; }
header p { font-size:1.2rem; color:#555; }
.featured { display:flex; justify-content:center; gap:25px; flex-wrap:wrap; margin-bottom:40px; }
.feature-card { background:linear-gradient(135deg,#ffecd2,#fcb69f); border-radius:25px; padding:25px 20px; width:220px; text-align:center; box-shadow:0 12px 30px rgba(0,0,0,0.15); transition:transform 0.3s ease, box-shadow 0.3s ease; cursor:pointer; }
.feature-card:hover { transform:translateY(-5px); box-shadow:0 18px 40px rgba(0,0,0,0.25); }
.feature-card .feature-icon { border-radius:15px; width:100%; height:120px; overflow:hidden; margin:0 auto 15px; display:flex; justify-content:center; align-items:center; }
.feature-card .feature-icon img { width:100%; height:100%; object-fit:cover; }
.feature-card h4 { font-size:1.3rem; margin-bottom:5px; color:#ff6b6b; }
.feature-card p { font-size:0.95rem; color:#555; }
form { display:flex; justify-content:center; flex-wrap:wrap; gap:15px; margin-bottom:40px; }
input[type="text"], select { padding:12px 20px; border-radius:50px; border:1px solid #ccc; outline:none; font-size:1rem; width:250px; }
button { padding:12px 25px; border-radius:50px; border:none; background:#ff6b6b; color:#fff; font-size:1rem; cursor:pointer; transition:0.3s ease; }
button:hover { background:#ff4757; transform: scale(1.05); }
.recipes { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:25px; }
.recipe-card { background:#fff; border-radius:20px; overflow:hidden; box-shadow:0 8px 25px rgba(0,0,0,0.15); transition:transform 0.3s ease, box-shadow 0.3s ease; }
.recipe-card:hover { transform:translateY(-5px); box-shadow:0 12px 30px rgba(0,0,0,0.2); }
.recipe-card img { width:100%; height:200px; object-fit:cover; }
.recipe-content { padding:15px 20px; }
.recipe-content h3 { margin-bottom:10px; color:#ff6b6b; }
.ingredients { margin-bottom:10px; }
.ingredients ul { list-style:disc; padding-left:20px; }
.recipe-content p { margin-bottom:10px; color:#555; }
.recipe-content a { display:inline-block; padding:10px 15px; border-radius:50px; background:#ff6b6b; color:#fff; text-decoration:none; transition:0.3s ease; }
.recipe-content a:hover { background:#ff4757; }
@media(max-width:600px) { input[type="text"], select { width:100%; } .featured { flex-direction:column; align-items:center; } }
</style>
</head>
<body>
<div class="container">
<header>
<h1>Halal & Sweet Recipes</h1>
<p>Discover delicious halal meals and desserts!</p>
</header>

<!-- Featured Categories -->
<div class="featured">
  <div class="feature-card" onclick="searchCategory('Dessert')">
    <div class="feature-icon">
      <img src="https://www.themealdb.com/images/category/dessert.png" alt="Desserts">
    </div>
    <h4>Desserts</h4>
    <p>Sweet treats & desserts</p>
  </div>

  <div class="feature-card" onclick="searchCategory('Beef')">
    <div class="feature-icon">
      <img src="https://www.themealdb.com/images/category/beef.png" alt="Meat">
    </div>
    <h4>Meat</h4>
    <p>Delicious halal meat dishes</p>
  </div>

  <div class="feature-card" onclick="searchCategory('Rice')">
    <div class="feature-icon">
      <img src="https://images.unsplash.com/photo-1603078835206-bf6b78bfc9d5?crop=entropy&cs=tinysrgb&fit=max&h=250&w=400" alt="Biryani or Rice">
    </div>
    <h4>Biryani / Rice</h4>
    <p>Flavored rice & biryani recipes</p>
  </div>

  <div class="feature-card" onclick="searchCategory('Vegan')">
    <div class="feature-icon">
      <img src="https://www.themealdb.com/images/category/vegan.png" alt="Vegan">
    </div>
    <h4>Vegan</h4>
    <p>Healthy & fresh vegan meals</p>
  </div>

  <div class="feature-card" onclick="searchCategory('Breakfast')">
    <div class="feature-icon">
      <img src="https://www.themealdb.com/images/category/breakfast.png" alt="Breakfast">
    </div>
    <h4>Breakfast</h4>
    <p>Halal breakfast meals</p>
  </div>
</div>

<!-- Search & Category Form -->
<form id="recipeForm">
<input type="text" id="search" placeholder="Enter recipe or ingredient" />
<select id="category">
  <option value="">All Categories</option>
  <option value="Beef">Meat</option>
  <option value="Dessert">Dessert</option>
  <option value="Rice">Biryani / Rice</option>
  <option value="Vegan">Vegan</option>
  <option value="Breakfast">Breakfast</option>
</select>
<button type="submit">Search</button>
</form>

<!-- Recipes Container -->
<div class="recipes" id="recipes"></div>
</div>

<script>
const form = document.getElementById('recipeForm');
const searchInput = document.getElementById('search');
const categorySelect = document.getElementById('category');
const recipesDiv = document.getElementById('recipes');

form.addEventListener('submit', searchRecipes);

async function searchRecipes(e){
  if(e) e.preventDefault();
  const query = searchInput.value.trim().toLowerCase();
  const category = categorySelect.value;
  recipesDiv.innerHTML='';

  if(!category && !query){ alert("Enter a recipe name or select a category!"); return; }

  let apiURL;
  // For Biryani/Rice, search by keyword 'rice'
  if(category === 'Rice'){
    apiURL = `https://www.themealdb.com/api/json/v1/1/search.php?s=rice`;
  } else if(category) {
    apiURL = `https://www.themealdb.com/api/json/v1/1/filter.php?c=${category}`;
  } else if(query){
    apiURL = `https://www.themealdb.com/api/json/v1/1/search.php?s=${query}`;
  }

  try{
    const response = await fetch(apiURL);
    const data = await response.json();
    if(!data.meals){ recipesDiv.innerHTML="<p style='text-align:center; color:#555;'>No recipes found!</p>"; return; }

    let meals = data.meals;
    for(const meal of meals){
      const mealDetailsRes = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${meal.idMeal}`);
      const mealData = await mealDetailsRes.json();
      const details = mealData.meals[0];

      // Skip irrelevant results for rice if necessary
      if(category === 'Rice' && !details.strMeal.toLowerCase().includes('rice') && !details.strMeal.toLowerCase().includes('biryani')) continue;
      if(category && category!=='Rice' && details.strCategory !== category) continue;

      const ingredients=[];
      for(let i=1;i<=20;i++){ if(details[`strIngredient${i}`]) ingredients.push(`${details[`strIngredient${i}`]} - ${details[`strMeasure${i}`]}`); }

      const card = document.createElement('div');
      card.className='recipe-card';
      card.innerHTML=`
        <img src="${details.strMealThumb}" alt="${details.strMeal}">
        <div class="recipe-content">
          <h3>${details.strMeal}</h3>
          <div class="ingredients"><strong>Ingredients:</strong><ul>${ingredients.map(i=>`<li>${i}</li>`).join('')}</ul></div>
          <p><strong>Instructions:</strong> ${details.strInstructions.substring(0,150)}...</p>
          <a href="${details.strSource||details.strYoutube}" target="_blank">View Full Recipe</a>
        </div>
      `;
      recipesDiv.appendChild(card);
    }

  } catch(err){ recipesDiv.innerHTML="<p style='text-align:center; color:red;'>Error fetching recipes. Try again later.</p>"; console.error(err); }
}

function searchCategory(cat){ searchInput.value=''; categorySelect.value=cat; searchRecipes(new Event('submit')); }
</script>
</body>
</html>

